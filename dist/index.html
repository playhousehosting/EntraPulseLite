<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:;"><title>DynamicEndpoint Assistant</title><style>* {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1e1e1e;
            color: #ffffff;
            overflow: hidden;
        }
        
        #root {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Loading overlay for initial load */
        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1e1e1e;
            z-index: 9999;
        }
        
        /* Loading spinner for initial load */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        
        .spinner {
            border: 3px solid #333;
            border-top: 3px solid #0078d4;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }</style><script defer="defer" src="renderer.js"></script></head><body><div id="loading-overlay" class="loading"><div class="spinner"></div><p>Loading DynamicEndpoint Assistant...</p></div><div id="root"></div><script>console.log('HTML page loaded, initializing...');
        
        // Debug function to check React mounting
        function checkReactMount() {
            const root = document.getElementById('root');
            const loadingOverlay = document.getElementById('loading-overlay');
            
            console.log('Checking React mount state:', {
                rootExists: !!root,
                rootHasChildren: root ? root.children.length : 0,
                loadingOverlayVisible: loadingOverlay ? loadingOverlay.style.display !== 'none' : false
            });
            
            if (root && root.children.length > 0) {
                console.log('React app detected, hiding loading overlay');
                if (loadingOverlay) {
                    loadingOverlay.style.display = 'none';
                }
                return true;
            }
            return false;
        }
        
        // Hide loading overlay once the page is fully loaded
        window.addEventListener('load', function() {
            console.log('Window load event fired');
            setTimeout(function() {
                if (!checkReactMount()) {
                    console.log('React app not mounted after window load, hiding overlay anyway');
                    const loadingOverlay = document.getElementById('loading-overlay');
                    if (loadingOverlay) {
                        loadingOverlay.style.display = 'none';
                    }
                }
            }, 1000); // Increased delay to give React more time
        });
        
        // Also hide loading overlay when React app mounts
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList') {
                    if (checkReactMount()) {
                        observer.disconnect();
                    }
                }
            });
        });
        
        // Error handling for React mounting
        window.addEventListener('error', function(event) {
            console.error('JavaScript error detected:', event.error);
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.innerHTML = '<div class="loading"><div class="spinner"></div><p>Error loading application. Please check console.</p></div>';
            }
        });
        
        const root = document.getElementById('root');
        if (root) {
            observer.observe(root, { childList: true, subtree: true });
        } else {
            console.error('Root element not found!');
        }
        
        // Fallback - hide overlay after 3 seconds regardless
        setTimeout(function() {
            console.log('Fallback: Hiding loading overlay after 3 seconds');
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.style.display = 'none';
            }
        }, 3000);</script></body></html>